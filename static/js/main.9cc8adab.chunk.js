(this["webpackJsonpsongify-widget"]=this["webpackJsonpsongify-widget"]||[]).push([[0],{42:function(e,t){e.exports="data:image/png;base64,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opgsKZk209ni1MT0JH/sPEzX6NWi9xiWyX+Hu/n56T/xSbS/nEg7DhxGEkWA3rf5UKYXcgx1lOSp2TD9wkuju87xW9JmmlvJiWwHSwjBueGP+OHJ1/lm+5e5d+UmajwBhBDE00luxIY5fvMch6/8h8tjNxYKl9Fx4CgCwns78hKACOoYycPAypmYElNazl6B8sG+2FCeR0kk7w98SGf4Ms3BBkK+WjShEZ2OMTAZJpIYJ22Z5a6VI8AhJJHMywud6yhq2r5AXtNHMGUluZYa4kF/q6M3nR66yPWJgRlFLIEglp6iK3IlL/4KBJoQ5QJa9vg7EGR3yhrk9dljwEHgfP7AIClTvDN5nogRnfNNXaNX+Ev3v9QSMEt0VEAarpyfCmU651FnCGIICO/pAHLWxeiBCyx/cRsoc0+gCrM58V4wYNzCkpJNnqZZA9BUOsGJ/vP88swhTg85i6QV1DDwEzSOAjK8tyNn5AWyg5Af1bX9PjktdYnEp1XxsN7G4/Ju7vKuxuv2kDCmuT4xyMn+C5y4+QHD8dFy1reFaAp4DcF+JPHwvo68i8UWvDjqMFA1qhdfrb4RQcJKcyT5P06MX8BzI4UrKUlbJvF0Iq8NsMSABxD8Fkl8tpzNyTmeHwHfQZ0IyUpKiRlJkL4yjowbIJw3ayoM+HvgZ0AEl4vwt992BlkAWw/8GHieWU6D5IEuPeAB4DVgtHCK5spJfhYBfopqTe+joN3uqlcGXmLQEeAggt8AY3NVS+ZzStKPOt/zEnAvBYcnzEiC9KVxZMJYzB6IBVwA9iP4+2xBZsGQOaAaqgu2D9Wu/jQzkmCOTJG+EkUmzcUADaMW+oNodCKxcpeJikDmgII67/M46pTF54EaBSoxR+IKdNqsFNw4cAL4M9CBRQyfIPz8EccPKPcMej3q1MjTwOeARqR0mSNx0ldtiy5MJjCA2i69hUq2I6AS7vmqUn9NEATuRp092IGUbcZwvM64GvXKadNJcDOAaVSQ60UdsD+C2udGAZz43qJAzgKsASEEG6Uht6R7x9rN4alWJE2o7pkfFdENVMIxhtrB96Kqhp3AJQRhwESWB5fR/wE+guNXRwDJNAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wMy0yOFQxMToyMDoyNCswMDowMKZ6TY8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDMtMjhUMTE6MjA6MjQrMDA6MDDXJ/UzAAAARnRFWHRzb2Z0d2FyZQBJbWFnZU1hZ2ljayA2LjcuOC05IDIwMTQtMDUtMTIgUTE2IGh0dHA6Ly93d3cuaW1hZ2VtYWdpY2sub3Jn3IbtAAAAABh0RVh0VGh1bWI6OkRvY3VtZW50OjpQYWdlcwAxp/+7LwAAABh0RVh0VGh1bWI6OkltYWdlOjpoZWlnaHQAMTkyDwByhQAAABd0RVh0VGh1bWI6OkltYWdlOjpXaWR0aAAxOTLTrCEIAAAAGXRFWHRUaHVtYjo6TWltZXR5cGUAaW1hZ2UvcG5nP7JWTgAAABd0RVh0VGh1bWI6Ok1UaW1lADE1ODUzOTQ0MjSM6/57AAAAD3RFWHRUaHVtYjo6U2l6ZQAwQkKUoj7sAAAAVnRFWHRUaHVtYjo6VVJJAGZpbGU6Ly8vbW50bG9nL2Zhdmljb25zLzIwMjAtMDMtMjgvNGVmNGFkNzliZTRhNDMwNDRiM2U3OWUxMmZkMjMxMTEuaWNvLnBuZ5tXYwkAAAAASUVORK5CYII="},50:function(e,t,s){},57:function(e,t,s){e.exports=s(85)},62:function(e,t,s){},63:function(e,t,s){},64:function(e,t,s){},85:function(e,t,s){"use strict";s.r(t);var a=s(0),i=s.n(a),n=s(16),o=s.n(n),r=(s(62),s(50),s(42)),l=s.n(r);s(63);class c extends a.Component{constructor(e){super(e),this.componentDidMount=()=>{this.fetchSong(),this.fetchCover(),setInterval(this.fetchSong,this.props.ratelimit)},this.fetchSong=async()=>{if(""!==this.props.uuid&&null!=this.props.uuid){const e=await fetch("https://api.songify.rocks/v2/getsong?uuid="+this.props.uuid).then(e=>e.text());this.fetchCover();const t=document.getElementsByClassName("App")[0];null==e||""===e?t.style.animation="fadeout 1s ease-in-out forwards":e!==this.state.currentSong&&(t.style.animation="fadein 1s ease-in-out forwards",this.setState({currentSong:e})),this.checkSize()}},this.fetchCover=async()=>{const e=await fetch("https://api.songify.rocks/v2/getcover?uuid="+this.props.uuid).then(e=>e.text());this.props.logoHandler(e)},this.checkSize=()=>{const e=document.createElement("canvas").getContext("2d");e.font="26px Quicksand";const t=e.measureText(this.state.currentSong).width,s=document.getElementById("song"),a=t/this.props.speed;s.style.width=t+1+"px",s.style.animation=`marquee ${a}s linear infinite ${this.props.direction}`},this.state={currentSong:""}}render(){return i.a.createElement("div",{className:"song",id:"song"},this.state.currentSong)}}class d extends a.Component{constructor(e){super(e),this.componentDidMount=()=>{this.updateLogo("")},this.updateLogo=e=>{("true"===this.props.cover||!0===this.props.cover)&&e?this.setState({logo:e}):this.setState({logo:l.a})},this.state={logo:l.a}}render(){const e=0===this.props.transparency?"transparent":`rgba(34, 34, 34, ${this.props.transparency||1})`;return i.a.createElement("div",{className:"App",style:{borderRadius:parseInt(this.props.corners),backgroundColor:e}},"left"===this.props.position&&i.a.createElement(h,{logo:this.state.logo}),i.a.createElement("div",{className:"title",style:{left:"right"===this.props.position?20:55}},"Now Playing:"),i.a.createElement("div",{className:"nowplaying"},i.a.createElement(c,{uuid:this.props.id,ratelimit:this.props.limit,direction:this.props.dir,speed:this.props.speed,position:this.props.position,logoHandler:this.updateLogo})),i.a.createElement("div",{className:"poweredby"},"powered by songify"),"right"===this.props.position&&i.a.createElement(h,{logo:this.state.logo}))}}function h(e){return i.a.createElement("div",{className:"logo"},i.a.createElement("img",{src:e.logo,alt:"logo"}))}var u=s(13),p=(s(64),s(33)),A=s(35),g=s(43),m=(s(80),s(81),s(55)),v=s.n(m);const E=A.a.Handle;class y extends a.Component{constructor(e){super(e),this.handleBorder=e=>{const{value:t,dragging:s,index:a,...n}=e;return t!==this.state.borderRadius&&(this.setState({borderRadius:t}),this.updateLink(this.state.uuid,this.state.scrollDirection,this.state.speed,this.state.transparency,this.state.iconPosition,t,this.state.useCover)),i.a.createElement(g.a,{prefixCls:"rc-slider-tooltip",overlay:t,visible:s,placement:"top",key:a},i.a.createElement(E,Object.assign({value:t},n)))},this.componentDidMount=()=>{null!=this.props.id&&(this.setState({uuidUrl:"https://api.songify.rocks/v2/getsong?uuid="+this.props.id,uuid:this.props.id}),this.updateLink(this.props.id,this.state.scrollDirection,this.state.speed,this.state.transparency,this.state.iconPosition,this.state.borderRadius,this.state.useCover))},this.buildBaseUrl=()=>`${window.location.protocol}//${window.location.hostname}${window.location.pathname}`,this.handleTransparency=e=>{const{value:t,dragging:s,index:a,...n}=e;return t!==this.state.transparency&&(this.setState({transparency:t}),this.updateLink(this.state.uuid,this.state.scrollDirection,this.state.speed,parseFloat(t).toFixed(2),this.state.iconPosition,this.state.borderRadius,this.state.useCover)),i.a.createElement(g.a,{prefixCls:"rc-slider-tooltip",overlay:t,visible:s,placement:"top",key:a},i.a.createElement(E,Object.assign({value:t},n)))},this.handleSpeed=e=>{const{value:t,dragging:s,index:a,...n}=e;return t!==this.state.speed&&(this.setState({speed:t}),this.updateLink(this.state.uuid,this.state.scrollDirection,t,this.state.transparency,this.state.iconPosition,this.state.borderRadius,this.state.useCover)),i.a.createElement(g.a,{prefixCls:"rc-slider-tooltip",overlay:t,visible:s,placement:"top",key:a},i.a.createElement(E,Object.assign({value:t},n)))},this.copyText=()=>{document.getElementById("url").select(),document.execCommand("copy")},this.urlHandler=e=>{const t=e.target.value,s=t.split("?id=")[1];this.setState({uuidUrl:t,uuid:s}),this.updateLink(s,this.state.scrollDirection,this.state.speed,this.state.transparency,this.state.iconPosition,this.state.borderRadius,this.state.useCover)},this.handleIcon=e=>{this.setState({iconPosition:e.target.value}),this.updateLink(this.state.uuid,this.state.scrollDirection,this.state.speed,this.state.transparency,e.target.value,this.state.borderRadius,this.state.useCover)},this.handleScroll=e=>{this.setState({scrollDirection:e.target.value}),this.updateLink(this.state.uuid,e.target.value,this.state.speed,this.state.transparency,this.state.iconPosition,this.state.borderRadius,this.state.useCover)},this.handleCover=e=>{this.setState({useCover:e}),this.updateLink(this.state.uuid,this.state.scrollDirection,this.state.speed,this.state.transparency,this.state.iconPosition,this.state.borderRadius,e)},this.state={uuid:"",speed:20,scrollDirection:"reverse",iconPosition:"left",borderRadius:10,transparency:.6,url:"",uuidUrl:"",useCover:!1}}updateLink(e,t,s,a,i,n,o){console.log(this.buildBaseUrl()),this.setState({url:`${this.buildBaseUrl()}?id=${e}&dir=${t}&speed=${s}&transparency=${a}&position=${i}&corners=${n}&cover=${o}`})}render(){return i.a.createElement("div",{className:"Generator"},i.a.createElement("nav",null,i.a.createElement("h2",null,"Songify Widget Generator")),i.a.createElement("div",{style:{marginTop:"8vh"}},i.a.createElement("div",{style:{paddingTop:50}},i.a.createElement(p.Container,{style:{marginTop:50}},i.a.createElement(p.Row,null,i.a.createElement(p.Col,{sm:7},i.a.createElement("div",{className:"setting select"},i.a.createElement("div",null,"Song Upload URL: "),i.a.createElement("input",{value:this.state.uuidUrl,placeholder:"https://api.songify.rocks/v2/getsong?uuid=[your-uuid-here]",onChange:this.urlHandler})),i.a.createElement("div",{className:"setting select"},i.a.createElement("div",null,"Rounded Corners:"),i.a.createElement(A.a,{min:0,max:45,defaultValue:10,handle:this.handleBorder,style:{width:332,marginTop:15}})),i.a.createElement("div",{className:"setting select"},i.a.createElement("div",{className:"text"},i.a.createElement("div",null,"Icon position: ")),i.a.createElement("div",{className:"selection"},i.a.createElement("select",{value:this.state.iconDirection,onChange:this.handleIcon},i.a.createElement("option",{value:"left"},"Left"),i.a.createElement("option",{value:"right"},"Right")))),i.a.createElement("div",{className:"setting select"},i.a.createElement("div",{className:"text"},i.a.createElement("div",null,"Scroll Direction: ")),i.a.createElement("div",{className:"selection"},i.a.createElement("select",{value:this.state.scrollDirection,onChange:this.handleScroll},i.a.createElement("option",{value:"reverse"},"Right to Left"),i.a.createElement("option",{value:"normal"},"Left to Right")))),i.a.createElement("div",{className:"setting select"},i.a.createElement("div",null,"Transparency: "),i.a.createElement(A.a,{min:0,max:1,defaultValue:.6,step:.01,style:{width:332,marginTop:15},handle:this.handleTransparency})),i.a.createElement("div",{className:"setting select"},i.a.createElement("div",null,"Scroll Speed: "),i.a.createElement(A.a,{min:10,max:80,defaultValue:20,step:1,style:{width:332,marginTop:15},handle:this.handleSpeed})),i.a.createElement("div",{className:"setting select"},i.a.createElement("div",null,"Use album cover:"),i.a.createElement(v.a,{checked:this.state.useCover,onChange:this.handleCover}))),i.a.createElement(p.Col,{sm:5},i.a.createElement("div",{className:"preview"},i.a.createElement(d,{id:this.state.uuid,transparency:this.state.transparency,limit:3e3,dir:this.state.scrollDirection,speed:this.state.speed,position:this.state.iconPosition,corners:this.state.borderRadius,cover:this.state.useCover})),i.a.createElement("input",{id:"url",className:"link-generator",type:"text",readOnly:!0,value:this.state.url,onClick:this.copyText,placeholder:"https://widget.songify.rocks/"}),i.a.createElement("div",{className:"widthheight"},"width: ",i.a.createElement("code",null,"312 px"),", height: ",i.a.createElement("code",null,"64 px"))))))))}}var w=function(){const{id:e}=Object(u.f)(),t=function(e){return/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/g.test(e)}(e),s=new URLSearchParams(window.location.search),n=s.get("id");return i.a.createElement(a.Fragment,null,!s.entries().next().done&&(t||window.location.search.split("&").length>1)?i.a.createElement(d,{id:t?e:n,transparency:s.get("transparency"),corners:s.get("corners"),limit:3e3,dir:s.get("dir"),speed:s.get("speed"),position:s.get("position"),cover:s.get("cover")||!1}):i.a.createElement(y,{id:t?e:n,useParam:!t}))},C=s(46);var D=function(){return i.a.createElement(C.a,null,i.a.createElement(u.c,null,i.a.createElement(u.a,{path:"/:id?"},i.a.createElement(w,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[57,1,2]]]);
//# sourceMappingURL=main.9cc8adab.chunk.js.map